---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "groundcover_apikey Resource - terraform-provider-groundcover"
subcategory: ""
description: |-
  API Key resource.
---

# groundcover_apikey (Resource)

API Key resource.

## Example Usage

```terraform
# examples/resources/groundcover_apikey/resource.tf

terraform {
  required_providers {
    groundcover = {
      source  = "registry.terraform.io/groundcover-com/groundcover"
      version = ">= 0.0.0" # Replace with actual version constraint
    }
  }
}

provider "groundcover" {
  # Configure API key and Org Name via environment variables
  # export TF_VAR_groundcover_api_key="YOUR_API_KEY"
  # export TF_VAR_groundcover_org_name="YOUR_ORG_NAME"
  api_key  = var.groundcover_api_key
  org_name = var.groundcover_org_name
  # api_url = "..." # Optional: Override default API URL
}

variable "groundcover_api_key" {
  type        = string
  description = "Groundcover API Key"
  sensitive   = true
}

variable "groundcover_org_name" {
  type        = string
  description = "Groundcover Organization Name"
}

# Example Policy (required for Service Account)
resource "groundcover_policy" "example" {
  name = "terraform-provider-apikey-example-policy"
  role = {
    read = "read"
  }
  description = "Example policy for api key resource example."
}

# Example Service Account (required for API Key)
resource "groundcover_serviceaccount" "example" {
  name = "terraform-provider-apikey-example-sa"
  policy_uuids = [
    groundcover_policy.example.uuid,
  ]
}

# Example API Key
resource "groundcover_apikey" "example" {
  name               = "terraform-provider-example-key"
  description        = "API Key generated via Terraform example."
  service_account_id = groundcover_serviceaccount.example.id

  # Optional: Set an expiration date (RFC3339 format)
  # expiration_date  = "2025-01-01T00:00:00Z"
}

output "apikey_example_id" {
  description = "The ID of the example API Key."
  value       = groundcover_apikey.example.id
}

output "apikey_example_value" {
  description = "The value of the example API Key (sensitive)."
  value       = groundcover_apikey.example.api_key
  sensitive   = true
}

output "apikey_example_creation_date" {
  description = "The creation date of the example API Key."
  value       = groundcover_apikey.example.creation_date
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the API key.
- `service_account_id` (String) The ID of the service account associated with the API key.

### Optional

- `description` (String) A description for the API key.
- `expiration_date` (String) The expiration date for the API key (RFC3339 format). If not set, the key never expires.

### Read-Only

- `api_key` (String, Sensitive) The generated API key. This value is only available upon creation.
- `created_by` (String) The user who created the API key.
- `creation_date` (String) The date the API key was created (RFC3339 format).
- `expired_at` (String) The date the API key expired (RFC3339 format), based on the 'expiration_date' set.
- `id` (String) The unique identifier for the API key.
- `last_active` (String) The last time the API key was active (RFC3339 format).
- `policies` (Attributes List) Policies associated with the service account linked to this API key. (see [below for nested schema](#nestedatt--policies))
- `revoked_at` (String) The date the API key was revoked (RFC3339 format), if applicable.

<a id="nestedatt--policies"></a>
### Nested Schema for `policies`

Read-Only:

- `name` (String) Policy name.
- `uuid` (String) Policy UUID.
