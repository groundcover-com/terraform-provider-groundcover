---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "groundcover_synthetic_test Resource - groundcover"
subcategory: ""
description: |-
  Manages a groundcover Synthetic Test. Synthetic tests allow you to proactively monitor your services by running periodic HTTP checks against specified endpoints.
---

# groundcover_synthetic_test (Resource)

Manages a groundcover Synthetic Test. Synthetic tests allow you to proactively monitor your services by running periodic HTTP checks against specified endpoints.

## Example Usage

```terraform
terraform {
  required_providers {
    groundcover = {
      source = "groundcover-com/groundcover"
    }
  }
}

# Configure the groundcover Provider
provider "groundcover" {
  # api_key can be set via the GROUNDCOVER_API_KEY environment variable
  # backend_id can be set via the GROUNDCOVER_BACKEND_ID environment variable
  # api_url can be set via the GROUNDCOVER_API_URL environment variable (optional)
}

# Example: Simple HTTP health check
resource "groundcover_synthetic_test" "http_health_check" {
  name     = "HTTP Health Check"
  interval = "1m"

  http_check {
    url     = "https://httpbin.org/status/200"
    method  = "GET"
    timeout = "10s"
  }

  assertion {
    source   = "statusCode"
    operator = "eq"
    target   = "200"
  }

  assertion {
    source   = "responseTime"
    operator = "lt"
    target   = "5000"
  }

  retry {
    count    = 2
    interval = "1s"
  }
}

# Example: HTTP POST with body and headers
resource "groundcover_synthetic_test" "http_post_check" {
  name     = "HTTP POST API Check"
  interval = "5m"

  http_check {
    url     = "https://httpbin.org/post"
    method  = "POST"
    timeout = "10s"

    headers = {
      "Content-Type" = "application/json"
    }

    body {
      type    = "json"
      content = "{\"test\": \"data\"}"
    }
  }

  assertion {
    source   = "statusCode"
    operator = "eq"
    target   = "200"
  }
}

# Example: Authenticated HTTP check using secrets
resource "groundcover_synthetic_test" "authenticated_check" {
  name     = "Authenticated API Check"
  interval = "5m"

  http_check {
    url     = "https://api.example.com/health"
    method  = "GET"
    timeout = "10s"

    auth {
      type  = "bearer"
      token = "secretRef::store::your-secret-id"
    }
  }

  assertion {
    source   = "statusCode"
    operator = "eq"
    target   = "200"
  }
}

# Example: With custom labels and severity
resource "groundcover_synthetic_test" "performance_check" {
  name     = "Performance Monitoring"
  interval = "30s"

  labels = {
    env  = "production"
    team = "platform"
  }

  http_check {
    url     = "https://api.example.com/status"
    method  = "GET"
    timeout = "5s"
  }

  assertion {
    source   = "statusCode"
    operator = "eq"
    target   = "200"
    severity = "critical"
  }

  assertion {
    source   = "responseTime"
    operator = "lt"
    target   = "300"
    severity = "degraded"
  }

  retry {
    count    = 3
    interval = "500ms"
  }
}

# Output the synthetic test IDs
output "http_health_check_id" {
  value = groundcover_synthetic_test.http_health_check.id
}

output "http_post_check_id" {
  value = groundcover_synthetic_test.http_post_check.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `interval` (String) How often the check runs. Supported values: `15s`, `30s`, `1m`, `5m`, `10m`, `15m`, `30m`, `1h`.
- `name` (String) The name of the synthetic test.

### Optional

- `assertion` (Block List) Assertions to validate the check result. At least one assertion is required. (see [below for nested schema](#nestedblock--assertion))
- `enabled` (Boolean) Whether the synthetic test is enabled. Default: `true`.
- `http_check` (Block, Optional) HTTP check configuration. Defines the endpoint to monitor. (Required) (see [below for nested schema](#nestedblock--http_check))
- `labels` (Map of String) Extra labels to attach to the synthetic test metrics.
- `retry` (Block, Optional) Retry policy for failed checks. (see [below for nested schema](#nestedblock--retry))

### Read-Only

- `id` (String) The unique identifier (UUID) of the synthetic test.
- `version` (Number) Configuration schema version. Managed by the provider.

<a id="nestedblock--assertion"></a>
### Nested Schema for `assertion`

Required:

- `operator` (String) Comparison operator: `eq`, `ne`, `gt`, `lt`, `contains`, `exists`, `notExists`, `startsWith`, `endsWith`, `regex`, `oneOf`.
- `source` (String) What to assert on: `statusCode`, `responseTime`, `responseHeader`, `jsonBody`, `responseBody`.

Optional:

- `property` (String) Property path for header or JSON body assertions (e.g. `Content-Type` or `data.id`).
- `severity` (String) Assertion severity: `critical` (default) or `degraded`.
- `target` (String) Expected value to compare against (as string, e.g. `"200"` for status code).


<a id="nestedblock--http_check"></a>
### Nested Schema for `http_check`

Required:

- `method` (String) HTTP method. Supported: `GET`, `POST`, `PUT`, `PATCH`, `DELETE`, `HEAD`, `OPTIONS`.
- `url` (String) The URL to check (must include http:// or https://).

Optional:

- `allow_insecure` (Boolean) Whether to allow insecure TLS connections.
- `auth` (Block, Optional) HTTP authentication. Supports `basic`, `bearer`, or `none`. (see [below for nested schema](#nestedblock--http_check--auth))
- `body` (Block, Optional) HTTP request body. (see [below for nested schema](#nestedblock--http_check--body))
- `follow_redirects` (Boolean) Whether to follow HTTP redirects.
- `headers` (Map of String) HTTP headers to send with the request.
- `timeout` (String) Request timeout (e.g. `10s`, `30s`).

<a id="nestedblock--http_check--auth"></a>
### Nested Schema for `http_check.auth`

Optional:

- `password` (String, Sensitive) Password for basic auth. Supports `secretRef::store::<id>` references.
- `token` (String, Sensitive) Token for bearer auth. Supports `secretRef::store::<id>` references.
- `type` (String) Auth type: `basic`, `bearer`, or `none`.
- `username` (String) Username for basic auth.


<a id="nestedblock--http_check--body"></a>
### Nested Schema for `http_check.body`

Optional:

- `content` (String) Body content string.
- `type` (String) Body content type: `json`, `text`, or `raw`.



<a id="nestedblock--retry"></a>
### Nested Schema for `retry`

Optional:

- `count` (Number) Number of retry attempts.
- `interval` (String) Delay between retries (e.g. `1s`, `500ms`).
